## Lesson 4. Building Polished User Interfaces

In this chapter you'll learn how to use several NativeScript features that let you build professional mobile user interfaces, such as listviews, layouts, and animations.

In the process you’ll complete the Groceries app, and have a functioning list-based app that you can share with your friends. Let’s get started by looking at some things you can do to customize NativeScript UI components.

### Step 1. Customizing UI components

So far, you’ve only used NativeScript UI elements by including them in an Angular component’s `template`, but you can also programatically create and access UI elements, and each UI component has a set of properties and methods you can use to customize your app.

#### Background: NativeScript modules

All NativeScript UI components are implemented as NativeScript modules, which are a series of TypeScript modules you use to add powerful functionality to your apps. There are a [lot of these modules](https://docs.nativescript.org/angular/core-concepts/modules), and you will use several of them as you complete this tutorial.

The source code for the NativeScript modules lives on GitHub in the [NativeScript/NativeScript repo](https://github.com/nativescript/nativescript). The modules are [distributed through npm as a “tns-core-modules” package](https://www.npmjs.com/package/tns-core-modules), which all NativeScript apps depend on. Because the NativeScript modules are open source, you are welcome to [contribute changes](https://www.nativescript.org/contribute).

#### End Background

Before we start the next example, there’s one piece of background knowledge you need to know. In NativeScript, a single `<Page>` UI element wraps the `template` of every page-level Angular component. You don’t see this component, but it’s there, and it’s a UI component you can customize. Let’s look at how to do that by making a change to how the login page’s `<ActionBar>` works.

<hr data-action="start" />

#### Action

* **a.** Open your `app/login/login.component.ts` file, and add the following import to the top, which adds a reference to the `Page` class from the NativeScript core modules.

``` TypeScript
import { Page } from "tns-core-modules/ui/page";
```

* **b.** Next, alter the same file’s existing `"@angular/core"` import to include the `OnInit` interface.

``` TypeScript
import { Component, OnInit } from "@angular/core";
```

* **c.** `OnInit` is a [TypeScript class interface](http://www.typescriptlang.org/docs/handbook/interfaces.html#class-types). To see how it works, make the following change to the declaration of your `LoginComponent` class.

``` TypeScript
export class LoginComponent implements OnInit {
```

After you add the new `implements` keyword, you should see an error in Playground that says something like *“Class ‘LoginComponent’ incorrectly implements interface ‘OnInit’”*. When you implement a TypeScript class interface, you’re telling the TypeScript compiler that you must implement all methods that the interface requires. In the case of `OnInit`, Angular requires you to implement a single `ngOnInit()` method.

* **d.** To implement it, add the following method to your `LoginComponent` class.

``` TypeScript
ngOnInit() {
  this.page.actionBarHidden = true;
}
```

> **NOTE**: `ngOnInit` is one of several [component lifecycle hooks](https://angular.io/docs/ts/latest/guide/lifecycle-hooks.html) that Angular provides. As its name implies, `ngOnInit` gets invoked when Angular initializes this component.

* **e.** We’ll discuss what the code within `ngOnInit()` does momentarily, but finally, to make these changes compile and run, change the `LoginComponent`’s existing `constructor()` declaration to use the code below.

``` TypeScript
constructor(private router: Router, private userService: UserService, private page: Page) {
```

> **NOTE**: Because the `Page` class is so commonly used in NativeScript apps, NativeScript provides this syntax as a shorthand for getting access to a component’s page. You’ll see other methods of getting access to UI components to change their properties later in this guide.

* **f.** Save your files. When your app refreshes the `<ActionBar>` should now be hidden on Android.

> **TODO:** Images of Android

<hr data-action="end" />

Now that you have this code in place, let’s discuss what happens on this line:

``` TypeScript
this.page.actionBarHidden = true;
```

This code uses an instance of the [`Page` class](https://docs.nativescript.org/api-reference/classes/_ui_page_.page.html) from the [NativeScript page module](https://docs.nativescript.org/api-reference/modules/_ui_page_.html), and sets its `actionBarHidden` property to `true`, which hides the ActionBar on Android devices.

Although you can peruse the [NativeScript API documentation](http://docs.nativescript.org/api-reference/globals.html) for a full list of these properties and what they do, if you’re using a TypeScript-friendly IDE, you can get a full list of these properties at any point. You can see this behavior in NativeScript Playground.

> **TODO** Image of TypeScript autocomplete in Playground

Let’s make one last change to complete your login page, and this time we’ll use some new Angular syntax.

<hr data-action="start" />

#### Action

* **a.** Open your `app/login/login.component.html` file and change the opening `<StackLayout>` tag to use the following code.

``` XML
<StackLayout class="form" [class.dark]="!isLoggingIn">
```

* **b.** Next, open your `app/login/login.component.css` file and add the following code to the bottom.

``` CSS
.dark {
  background-color: #301217;
}
.dark TextField {
  color:  #C4AFB4;
}
```

* **c.** Save your files. When your app updates on your device, click the **Sign up** button and note how the colors update automatically.

> **TODO** Add gif images for iOS and Android.

<hr data-action="end" />

The `[class.className]` syntax is a handy Angular feature that lets you conditionally apply class names based on a boolean condition. In this case, `[class.dark]="!isLoggingIn` tells Angular to apply the `dark` class name only when the component’s `isLoggingIn` flag is `false`.

What’s even cooler is that the syntax works even if you need to apply additional CSS class names to the component. Aka, when using this syntax, `class="form" [class.dark]="!isLoggingIn"`, Angular is smart enough to keep the `form` class name applied even as it toggles the `dark` class name. You might find this trick handy as you develop your NativeScript applications using Angular.

At this point in the tutorial your login screen is now complete. You’re welcome to continue tinkering with the page if you’d like, but next we’re going to move on to build the Groceries app’s list page. And you’ll start by learning about a new set of UI components.

### Step 2. Introducing NativeScript UI



### Step 3. Using advanced layouts

### Step 4. Managing the UI during processing

### Step 5. Creating engaging animations
