## Lesson 3. Adding Application Logic

In this lesson you’ll learn how to add TypeScript logic to your app, how to create services that talk to backend endpoints, and how to architect an app to share code with Angular web apps. There’s a lot to cover, so let’s start by discussing how to handle events and data binding.

### Step 1. Handling events

Most user interfaces are driven by events. In NativeScript apps, those events are usually some user action, such as tapping, swiping, or rotating—and NativeScript abstracts the iOS- and Android-specific code for handling such events into a handful of easy-to-use APIs. Let’s start with the most common event you’ll use in a NativeScript app: `tap`.

<hr data-action="start" />

#### Action

* **a.** Open your `app/app.component.ts` file, find the existing sign in button within your component’s `template` (`<Button text="Sign in" class="btn btn-primary"></Button>`), and replace it with the following code:

``` XML
<Button text="Sign in" class="btn btn-primary" (tap)="submit()"></Button>
```

* **b.** Next, in the same file, replace the current `AppComponent` declaration (`export class AppComponent {}`) with the one shown below:

``` TypeScript
export class AppComponent {
  submit() {
    console.log("hello");
  }
}
```

* **c.** Save your `app/app.component.ts` file. When your app refreshes on your device tap the **Sign in** button. You should see “hello” listed in the **Logs** section of Playground in your browser.

> **TODO** Add a screenshot of the log

<hr data-action="end" />

The `(eventName)="functionName()"` syntax is part of [Angular’s event binding system](https://angular.io/docs/ts/latest/guide/template-syntax.html#!#event-binding), which lets you bind an event that occurs on a UI element to a function in your component’s class. In this case, the `(tap)="submit()"` syntax tells Angular to run the `AppComponent` class’s `submit()` function whenever the user taps the sign in button.

> **TIP**:
> * You can find a list of events available for each UI element on its API documentation page. For instance, the [button element’s API documentation](http://docs.nativescript.org/api-reference/classes/_ui_button_.button.html) lists its `tap` event.
> * The Angular docs have a helpful [cheat sheet](https://angular.io/docs/ts/latest/guide/cheatsheet.html) that includes the various syntaxes available when building templates. Don’t worry too much about knowing how all these work at the moment; you’ll the most common syntaxes as you complete this guide.

With the `tap` event in place, you now have a way of tying the UI elements in your template to your TypeScript code. To make a login page actually work though, we need to introduce one other way of connecting a template to code: data binding.

### Step 2. Binding to data

Angular provides several ways to bind data in your TypeScript code to UI controls, and through the magic of NativeScript those same methods are available in your iOS and Android apps.

The first of these is a way to bind UI attributes to properties defined in your TypeScript class. Let’s look at how it works.

<hr data-action="start">

#### Action

* **a.** In your `app/app.component.ts` file, replace the current `AppComponent` declaration with the one shown below, which adds a new `email` property, and changes the `submit()` method to display its value:

``` TypeScript
export class AppComponent {
  email = "nativescriptrocks@progress.com";
  submit() {
    alert("You’re using: " + this.email);
  }
}
```

* **b.** Next, find the first `<TextField>` in your component’s `template` and replace it with the code below, which adds a new `text` attribute:

``` XML
<TextField hint="Email Address" keyboardType="email"
  autocorrect="false" autocapitalizationType="none"
  [text]="email" class="input input-border"></TextField>
```

* **c.** Save your `app/app.component.ts` file. When your app refreshes on your device you should see the “nativescriptrocks” email address prefilled.

> **TODO**: Add images for iOS and Android.

<hr data-action="end">